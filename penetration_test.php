<?php
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Získání cílové URL z formuláře
    $target_url = $_POST["target_url"];

    // Validace cílové URL (můžete provést další validaci)
    if (!filter_var($target_url, FILTER_VALIDATE_URL)) {
        echo "Neplatná URL.";
        exit;
    }

    // Připravit data pro odeslání na Python skript
    $data = ["target_url" => $target_url];
    $data_json = json_encode($data);

    // Spuštění Python skriptu pro penetrační testování
    $python_script = "python3 /var/www/penetration-test/penetration_test.py";
    $command = "$python_script '$data_json'";

    $output = shell_exec($command);

    // Zobrazení výsledků
    echo "Výsledky penetračního testu:<br>";
    echo nl2br($output);
} else {
    echo "Neplatný požadavek.";
}
?>
